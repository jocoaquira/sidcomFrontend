<div  *ngIf="permissions;else cargando">
  <div class="mt-3 card shadow-lg p-3 mb-5 bg-white rounded">
    <div class="card-header">
    Registrar Nuevo Rol
    </div>
    <div class="card-body">
    <form (ngSubmit)="onSubmitRol()">

      <div class="row">

      <div class="form-group row">
        <label for="name" class="col-sm-4 col-form-label">Nombre</label>
        <div class="col-sm-8">
          <input type="text"
          name="name"
          [(ngModel)]="form.name"
          required
          class="form-control form-control-sm">
          <small id="emailHelp" class="small" [hidden]="!errorRole.name">
            {{errorRole.name}}
          </small>
        </div>
      </div>
      <div class="form-group row">
        <label for="guard_name" class="col-sm-4 col-form-label">Guard Name</label>
        <div class="col-sm-8">
          <input type="text"
          name="guard_name"
          [(ngModel)]="form.guard_name"
          required
          class="form-control form-control-sm">
          <small id="emailHelp" class="small" [hidden]="!errorRole.guard_name">
            {{errorRole.guard_name}}
          </small>
        </div>
      </div>
      </div>
      <div class="row">
        <div class="card-header">
          Permisos
        </div>

        <div class="card-body">

            <div class="form-group">
                <small id="emailHelp" class="small" [hidden]="!errorRole.permissions">
                  {{errorRole.permissions}}
                </small>
                  <table class="table">
                      <tbody>
                          <tr *ngFor="let permission of permissions">
                              <td class="text-right col-sm-4">
                                  <div class="form-check">
                                      <label class="form-check-label">
                                          <input class="form-check-input" type="checkbox"
                                              (change)="onChange(permission, $event)"
                                              [checked]="existeRol(permission.id)"
                                          >
                                          <span class="form-check-sign">
                                              <span class="check" value=""></span>
                                          </span>
                                      </label>
                                  </div>
                              </td>
                              <td class="text-primary" align="left">
                                  {{ permission.name }}
                              </td>
                          </tr>
                      </tbody>
                  </table>
            </div>
        </div>

      </div>

        <div class="col alinearderecha mt-3">
          <button type="submit" class="btn btn-primary btn-sm m-2" >Actualizar Rol</button>
        </div>


    </form>
    </div>
  </div>
</div>
<ng-template #cargando>
  <div class="jc-card">
    <div class="centrar-img-load">
      <div class="img-load " >
        <img  src="../../../../assets/spinner.gif" >
      </div>
    </div>
  </div>
</ng-template>
