<p-table #dt [value]="listaProcedimientos" [columns]="cols" responsiveLayout="scroll" [rows]="30"
         [globalFilterFields]="['id', 'nombre', 'detalles']" [paginator]="false" [rowsPerPageOptions]="[10, 20, 30]"
         [showCurrentPageReport]="false" currentPageReportTemplate="Mostrar {first} a {last} de {totalRecords} registros"
         selectionMode="multiple" [rowHover]="true" dataKey="id">

  <ng-template pTemplate="caption">
    <div class="flex flex-column md:flex-row md:justify-content-between md:align-items-center">
      <h5 class="m-0">Nombre de Procedimiento</h5>
      <span class="block mt-2 md:mt-0 p-input-icon-left">
        <input pInputText type="text" [(ngModel)]="lista.nombre"  placeholder="Procedimiento..." class="w-full sm:w-auto"/>
      </span>
    </div>
    <p>Haga click sobre la lista para editar .....</p>
  </ng-template>

  <ng-template pTemplate="header">
    <tr>
      <th pSortableColumn="detalles">Procedimientos <p-sortIcon field="detalles"></p-sortIcon></th>
      <th pSortableColumn="acciones">Acciones <p-sortIcon field="acciones"></p-sortIcon></th>
    </tr>
  </ng-template>

  <ng-template pTemplate="body" let-procedimiento let-index="rowIndex">
    <tr>
      <td>
        <input *ngIf="editandoIndex === index" pInputText [(ngModel)]="editandoTexto" (blur)="guardarCambios(index, dt)" />
        <span *ngIf="editandoIndex !== index" (click)="onEditInit(procedimiento, index)">
          {{ procedimiento }}
        </span>
      </td>
      <td>
        <button pButton icon="pi pi-trash" (click)="eliminarFila(index)" class="p-button-text p-button-danger">
        </button>
      </td>
    </tr>
  </ng-template>
</p-table>
<div class="botones-derecha">
    <span class="p-buttonset col-12 md:col-6 ">
        <button pButton pRipple label="Guardar" class="p-button-secondary" icon="pi pi-check" (click)="guardar()"></button>
        <button pButton pRipple label="Cancelar"  class="p-button-danger" icon="pi pi-trash" (click)="ocultarDialogo()"></button>
    </span>
</div>
