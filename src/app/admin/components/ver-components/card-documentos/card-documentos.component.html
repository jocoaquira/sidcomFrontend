<div class="col-12" *ngIf="fechaExpiracion">
  <div class="card mb-0" [ngClass]="cardClass">
      <!-- Título -->
      <div class="header">
          <span>{{ title }}</span>
      </div>

      <!-- Estado de Vigencia -->
      <div class="content">
          <div class="left">
              <div class="vigencia">
                  <span class="label">Días de Vencimiento: </span>
                  <span class="vigencia-days">{{ vigencia }}</span>
              </div>
              <div class="estado">
                  <i *ngIf="estado === 'Vigente'" class="pi pi-check-circle text-green-500"></i>
                  <i *ngIf="estado === 'Por Vencer'" class="pi pi-exclamation-circle text-yellow-500"></i>
                  <i *ngIf="estado === 'Vencido'" class="pi pi-times-circle text-red-500"></i>
                  <span class="estado-text">{{ estado }}</span>
              </div>
              <div class="fecha-vencimiento">
                  <span class="label">Fecha de Vencimiento: </span>
                  <span class="fecha">{{ fechaExpiracion | date:'dd/MM/yyyy' }}</span>
              </div>
          </div>
          <div class="divider"></div>
          <!-- Enlace para mostrar el archivo -->
          <div class="right">
              <iframe *ngIf="nimLink" [src]="link | safeUrl" style="width: 100%; height: 100%; border: none;"></iframe>
              <i *ngIf="!nimLink" class="pi pi-map-marker text-orange-500 text-xl"></i>
              <button *ngIf="nimLink" (click)="downloadFile(link)" 
                [ngClass]="{
                  'bg-green-100': estado === 'Vigente',
                  'bg-yellow-100': estado === 'Por Vencer',
                  'bg-red-200': estado === 'Vencido'
                }">
                Descargar {{title}}
              </button>
          </div>
      </div>
  </div>
</div>
